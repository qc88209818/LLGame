{"version":3,"sources":["../../../../assets/Script/assets/Script/HelloWorld.js"],"names":["NumberButton","cc","Class","extends","Node","properties","index","node","init","prefab","idx","newNode","instantiate","x","y","addChild","width","height","setNumber","num","labelNode","getChildByName","labelComp","getComponent","Label","string","setListener","func","self","on","Component","nNanDu","nWidth","nHeight","nodeArr","default","type","numArr","Integer","onLoad","loader","loadRes","err","i","j","director","getScene","push","length","setPosition","onClickButton","resetNumber","update","dt","Math","floor","random","onClickStart","event","btn","target","log"],"mappings":"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","file":"HelloWorld.js","sourceRoot":"../../../../assets/Script","sourcesContent":["var NumberButton = cc.Class({\n    extends: cc.Node,\n\n    properties: {\n        index:0,\n        node:cc.Node,\n    },\n\n    init: function (prefab, idx) {\n        this.index = idx;\n        var newNode = cc.instantiate(prefab);\n        newNode.x = 0;\n        newNode.y = 0;\n        this.addChild(newNode);\n\n        this.width = newNode.width;\n        this.height = newNode.height;\n        this.node = newNode;\n        this.setNumber(0);\n    },\n\n    setNumber: function(num) {\n        var labelNode = this.node.getChildByName(\"label\");\n        var labelComp = labelNode.getComponent(cc.Label);\n        labelComp.string = num;\n    },\n\n    setListener: function(func, self) {\n        this.node.on('click', func, self);\n    }\n});\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nNanDu: 6,\n        nWidth: 5,\n        nHeight: 5,\n        nodeArr: {\n            default: [],\n            type: cc.Node\n        },\n        numArr: {\n            default: [],\n            type: cc.Integer\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        // 加载 Prefab\n        var self = this;\n        cc.loader.loadRes(\"prefab/btn\", function (err, prefab) {\n            for(var i = 0; i < self.nWidth; ++i) {\n                for(var j = 0; j < self.nHeight; ++j) {\n                    var newNode = new NumberButton();\n                    cc.director.getScene().addChild(newNode);\n                    self.nodeArr.push(newNode);\n\n                    newNode.init(prefab, self.nodeArr.length);\n                    newNode.setPosition(45 + i*85, 45 + j*85);\n                    newNode.setListener(self.onClickButton, self);\n\n                    self.resetNumber();\n                }\n            }\n        });\n    },\n\n    // called every frame\n    update: function (dt) {\n\n    },\n\n    resetNumber:function() {\n        for (var i = 0; i < this.nodeArr.length; ++i) {\n            var num = Math.floor(Math.random()*this.nNanDu + 1) ;\n            this.numArr.push(num);\n\n            var node = this.nodeArr[i];\n            node.setNumber(num);\n        }\n    },\n\n    onClickStart: function() {\n        this.resetNumber();\n    },\n\n    onClickButton: function(event) {\n        var btn = event.target;\n        cc.log(btn.index);\n    }\n});\n"]}